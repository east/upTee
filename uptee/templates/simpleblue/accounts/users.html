{% extends "base.html" %}

{% load active_servers %}
{% load pagination_tags %}

{% comment %}
context variables:
    users
    paginator
{% endcomment %}

{% block title %}upTee - Users{% endblock title %}

{% block link_list %}

<div id="link_list">
    {% autopaginate users %}
    {% paginate %}
</div>

{% endblock link_list %}

{% block content %}

{% autopaginate users %}

<div class="head">
    <h2>Users</h2>
</div>
<div class="body">
    <table id="userlist">
        <tbody>
            <tr>
                <th>Name</th>
                <th>Servers</th>
            </tr>
            {% for user in users %}
                <tr>
                    <td>{{ user.username }}</td>
                    <td><a href="{% url user_server_list user.username %}">{{ user.servers|active_servers|length }}</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
